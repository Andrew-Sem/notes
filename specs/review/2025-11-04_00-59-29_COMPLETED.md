# Review Issues - 2025-11-04_00-59-29

**Target Documents:** specs/prd.md
**Total Issues Found:** 23 (High: 8, Medium: 12, Low: 3)
**Focus:** Separating product/user perspective from implementation details

---

## Issue #1: [inconsistency][high] Project Description includes implementation details
**Files:** specs/prd.md:11-14
**Evidence:**
```
specs/prd.md:11-14:
"Main components:
- **Telegram Bot** â€” interface for quick note saving
- **Telegram Mini App** â€” web interface for viewing, organizing, and searching notes
- **AI Service** â€” microservice for processing notes using AI (future phase)"
```

**Problem:** PRD Project Description section should describe the product from user perspective, not technical architecture components. Users don't care about "microservices" or "web interfaces" - they care about what they can do.

**Options:**
- A) Replace with product description: "Smart Notes Bot lets users save notes instantly through Telegram messages and organize them in an easy-to-use interface. Future AI features will help find and understand notes better."
- B) Move technical components to "Architectural Components" section and replace with feature overview
- C) Keep components but reframe from user benefit perspective (e.g., "Quick note capture via Telegram", "Organized note viewing experience", "AI-powered insights (coming soon)")
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: D - "ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:
- **Telegram Bot** â€” Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ Ñ‚ÐµÐºÑÑ‚, Ñ„Ð¾Ñ‚Ð¾, Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð±Ð¾Ñ‚Ñƒ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº
- **Telegram Mini App** â€” Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Telegram Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð°, Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ Ð¿Ð¾Ð¸ÑÐºÐ° Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº
- **AI-Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº** (Ð±ÑƒÐ´ÑƒÑ‰Ð°Ñ Ñ„Ð°Ð·Ð°) â€” Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ Ð´Ð»Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº"]

---

## Issue #2: [inconsistency][high] Security section focuses on technical implementation
**Files:** specs/prd.md:34-41
**Evidence:**
```
specs/prd.md:36: "Authentication via Telegram: Mini App frontend uses @telegram-apps/sdk for Telegram WebApp initData validation"
specs/prd.md:37: "Data encryption in database (encryption at rest)"
specs/prd.md:38: "API protection between components via tokens/API keys"
```

**Problem:** PRD should state security requirements from product perspective, not implementation methods. Product needs to ensure data security, not specify SDK names or API tokens.

**Options:**
- A) Replace with product security requirements: "User data is protected through Telegram authentication; All stored data is encrypted; Media files are accessible only to authorized users"
- B) Keep current wording but move to Technical Specification document
- C) Reframe as security features: "Secure login through Telegram (no passwords needed); Private storage (each user sees only their notes); Protected file access"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: D - "Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Telegram; Ð²ÑÐµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ñ‹; Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¼ÐµÐ´Ð¸Ð°Ñ„Ð°Ð¹Ð»Ð°Ð¼ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ"]

---

## Issue #3: [inconsistency][medium] Rate limiting mentions implementation assumption
**Files:** specs/prd.md:41
**Evidence:**
```
specs/prd.md:41: "Rate limiting: Application relies on Telegram's built-in rate limits for bot messages; no custom rate limiting implemented in MVP"
```

**Problem:** PRD shouldn't explain what the application does/doesn't implement. This is technical decision documentation, not product requirements.

**Options:**
- A) Remove entirely (rate limiting is implementation detail)
- B) Replace with product constraint: "Message processing respects Telegram platform limits"
- C) Move to technical specification document
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #4: [inconsistency][low] Accessibility section mentions implementation details
**Files:** specs/prd.md:51-52
**Evidence:**
```
specs/prd.md:51: "Support for minimum font size of 14px for body text with proportional scaling for headings"
specs/prd.md:53: "Contrasting colors for text and background (minimum 4.5:1 per WCAG 2.1)"
```

**Problem:** Font sizes and contrast ratios are implementation details. PRD should state product requirements.

**Options:**
- A) Replace with product requirements: "Text is readable on all devices; Clear visual contrast for easy reading; Compatible with device accessibility settings"
- B) Keep WCAG reference but remove specific technical metrics (px, ratios)
- C) Simplify to: "Interface designed for readability and accessibility across all devices and user needs"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: B]

---

## Issue #5: [inconsistency][high] Feature Requirements specify technical implementation
**Files:** specs/prd.md:145-149
**Evidence:**
```
specs/prd.md:145: "FR-001: Bot must accept any text messages up to 4096 characters long (Telegram limit)"
specs/prd.md:146: "FR-002: Each note must be saved with creation timestamp in UTC"
specs/prd.md:149: "FR-005: Notes are saved linked to sender's Telegram User ID"
```

**Problem:** Feature Requirements should describe what the product does for users, not technical storage details like "UTC timestamps" or "Telegram User ID".

**Options:**
- A) Reframe as product features: "Product accepts text notes of any length supported by Telegram; Notes automatically capture creation time; Each user has access only to their own notes"
- B) Split into user-facing requirements and technical requirements sections
- C) Keep technical details but add "Product capability:" prefix for each requirement
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #6: [inconsistency][high] FR-007 mentions "S3-compatible storage"
**Files:** specs/prd.md:197
**Evidence:**
```
specs/prd.md:197: "FR-007: Media files must be saved in object storage (S3-compatible storage)"
```

**Problem:** PRD shouldn't specify storage technology. This is implementation detail.

**Options:**
- A) Replace with product requirement: "Photos, videos, and documents are stored securely and remain accessible"
- B) Simplify to: "Media files are stored reliably with high availability"
- C) Remove entirely and keep only user-visible aspects in other requirements
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #7: [inconsistency][medium] FR-009 specifies technical implementation
**Files:** specs/prd.md:199
**Evidence:**
```
specs/prd.md:199: "FR-009: For photos, a thumbnail version must be generated for quick loading in note list"
```

**Problem:** How thumbnails are generated is implementation. PRD should state product experience.

**Options:**
- A) Replace with product requirement: "Photo previews load quickly in note list"
- B) Reframe as performance requirement: "Photo previews appear instantly when browsing notes"
- C) Keep but add product context: "Note list displays photo previews for quick scanning (thumbnail optimization)"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: D - "Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ²ÑŒÑŽ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¹"]

---

## Issue #8: [inconsistency][high] FR-011 contains implementation details about file handling
**Files:** specs/prd.md:201
**Evidence:**
```
specs/prd.md:201: "FR-011: **Application enforces 20 MB file size limit for MVP.** Files up to 20 MB are downloaded and saved to S3 storage. Files > 20 MB are rejected with notification..."
```

**Problem:** Details about "downloading and saving to S3" are implementation concerns, not product requirements.

**Options:**
- A) Simplify to product requirement: "Product supports files up to 20 MB. Larger files are rejected with notification to user."
- B) Split into two requirements: user-visible limit and technical implementation
- C) Keep only: "Product supports files up to 20 MB. Files larger than 20 MB cannot be saved and user receives notification."
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #9: [inconsistency][medium] FR-011a describes technical retry logic
**Files:** specs/prd.md:202
**Evidence:**
```
specs/prd.md:202: "If S3 deletion fails, log error and retry up to 3 times with exponential backoff"
```

**Problem:** Retry logic with exponential backoff is pure implementation detail, invisible to users.

**Options:**
- A) Remove retry details, keep only product behavior: "When user deletes a message in Telegram, the note and its files are removed"
- B) Simplify to: "Deleted messages are removed from notes automatically"
- C) Move retry logic to technical specification
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #10: [inconsistency][medium] FR-ERR-001 mixes product-facing and technical concerns
**Files:** specs/prd.md:203
**Evidence:**
```
specs/prd.md:203: "Failed operations are logged server-side with full error details for debugging. No retry queue in MVP."
```

**Problem:** Server-side logging and retry queue decisions are implementation details.

**Options:**
- A) Keep only product behavior: "When operation fails, user receives clear error message (e.g., 'Failed to save note. Please try again.')"
- B) Split into user experience requirement and technical logging requirement
- C) Remove technical details entirely
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #11: [inconsistency][medium] FR-016 to FR-021 mix UI specifications with product requirements
**Files:** specs/prd.md:337-342
**Evidence:**
```
specs/prd.md:337: "FR-017: Each note in list shows: text preview (first 100 printable characters of text/caption with formatting stripped and whitespace collapsed..."
specs/prd.md:339: "FR-018: Implement infinite scroll (not pagination) to load notes in batches of 20"
specs/prd.md:342: "FR-021: Note creation time is displayed in user's local timezone using MM/DD/YYYY format"
```

**Problem:** Specific implementation details like "100 characters", "batches of 20", "infinite scroll vs pagination" are design/technical decisions, not product requirements.

**Options:**
- A) Reframe as product experience: "Notes display helpful previews for quick scanning; More notes load smoothly as user scrolls; Times are shown in user's local timezone"
- B) Move technical specifications to separate UI/UX specification document
- C) Keep details but add "User Experience:" framing for each
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #12: [inconsistency][medium] FR-022 specifies technical implementation (debounce)
**Files:** specs/prd.md:386
**Evidence:**
```
specs/prd.md:386: "FR-022: Search bar is available on Mini App main screen with 300ms debounce (waits 300ms after user stops typing before making API call)"
```

**Problem:** Debounce timing and API call details are implementation specifics.

**Options:**
- A) Replace with product experience: "Search responds smoothly as user types, showing results instantly"
- B) Keep search functionality but remove technical timing: "Search bar provides real-time results as user types"
- C) Reframe: "Search is fast and responsive, updating results as user types"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #13: [inconsistency][medium] FR-024 mentions implementation (substring matching)
**Files:** specs/prd.md:388
**Evidence:**
```
specs/prd.md:388: "FR-024: Search results are ranked by partial match relevance (substring matching)"
```

**Problem:** "Substring matching" is implementation detail. Product should describe result quality.

**Options:**
- A) Replace with product behavior: "Search results show the most relevant notes first"
- B) Simplify to: "Search intelligently ranks results to help find needed information"
- C) Remove ranking detail entirely, covered by general search functionality
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #14: [inconsistency][medium] FR-028 specifies database structure (flat vs nested)
**Files:** specs/prd.md:483
**Evidence:**
```
specs/prd.md:483: "FR-028: User can create folders with arbitrary names (up to 50 characters). Folders use flat structure only (no nesting) in MVP."
```

**Problem:** "Flat structure" vs "nesting" is implementation/design decision. PRD should state product capability.

**Options:**
- A) Simplify to product constraint: "Users can create folders with custom names (up to 50 characters). Folders cannot be placed inside other folders."
- B) Keep limitation but frame as product decision: "Folders are kept simple in this version - no sub-folders"
- C) Remove structure detail: "Product supports folders with custom names to organize notes"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #15: [inconsistency][medium] FR-032 specifies data validation rules
**Files:** specs/prd.md:487
**Evidence:**
```
specs/prd.md:487: "FR-032: Tags are entered in free form, automatically created on first use. Tags are case-sensitive and preserve exact user input. Tags support emoji characters (e.g., 'ðŸ’¡Idea', 'ðŸ”¥Important')."
```

**Problem:** Technical details about case-sensitivity and automatic creation are implementation specifics.

**Options:**
- A) Reframe as product experience: "Users type tag names and they're created instantly. Tags preserve exact formatting and support emojis like ðŸ’¡ or ðŸ”¥"
- B) Simplify to: "Product creates tags automatically as user types them, with emoji support"
- C) Keep examples but remove technical implementation details
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #16: [inconsistency][medium] FR-033 describes UI implementation
**Files:** specs/prd.md:488
**Evidence:**
```
specs/prd.md:488: "FR-033: When entering tag, show all existing user tags in dropdown (no search/filtering in MVP). User can scroll and click to select."
```

**Problem:** Dropdown implementation and MVP scope decisions are technical/design details.

**Options:**
- A) Replace with product experience: "When adding tags, users can see and reuse existing tags"
- B) Simplify to: "Previously used tags are easy to find and reuse"
- C) Remove dropdown specifics: "Tag suggestions help users reuse existing tags consistently"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #17: [inconsistency][medium] FR-040 describes conflict resolution strategy
**Files:** specs/prd.md:557
**Evidence:**
```
specs/prd.md:557: "FR-040: When editing metadata is updated \"last_edited\" (time of last change). Concurrent edits from multiple users or sessions use last-write-wins strategy: the last saved change overwrites previous changes without conflict detection, merge resolution, or version control in MVP."
```

**Problem:** "Last-write-wins strategy" and technical conflict handling are implementation details invisible to users.

**Options:**
- A) Simplify to product behavior: "When note is edited, it shows when it was last updated. If same note is edited from multiple devices, the most recent save is kept."
- B) Remove conflict strategy details: "Notes track when they were last edited. Most recent changes are always saved."
- C) Keep warning but simplify: "Editing from multiple devices simultaneously may overwrite changes"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #18: [inconsistency][high] FR-043-055 (AI features) specify technical architecture
**Files:** specs/prd.md:635-655
**Evidence:**
```
specs/prd.md:636: "FR-044: AI service uses LLM (e.g., GPT-4, Claude) for summary generation"
specs/prd.md:732: "FR-052: AI service generates embeddings (vector representations) for all text notes"
specs/prd.md:733: "FR-053: During search embedding is generated for query and similarity search is performed"
specs/prd.md:734: "FR-054: Results are ranked by semantic similarity (cosine similarity)"
```

**Problem:** LLM models, embeddings, vector representations, cosine similarity are all implementation details. PRD should describe product value.

**Options:**
- A) Rewrite all AI requirements from product perspective: "Product generates quick summaries of long notes; Search finds notes by meaning, not just keywords; Product automatically suggests tags based on content"
- B) Keep AI features but remove technical implementation details
- C) Move technical details to AI Service specification document
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #19: [inconsistency][high] Architectural Components section in PRD
**Files:** specs/prd.md:790-798
**Evidence:**
```
specs/prd.md:790-798: "# Architectural Components (High-level overview)
1. **Telegram Bot Service**: Node.js/Python, processes incoming messages, saves to DB
2. **Backend API**: REST API for Mini App, managing notes, folders, tags
3. **Database**: PostgreSQL for storing notes, metadata, users
4. **File Storage**: S3-compatible storage (AWS S3 / MinIO) for media files (up to 20 MB per file)
..."
```

**Problem:** Entire "Architectural Components" section with technology choices (Node.js/Python, PostgreSQL, S3, React) doesn't belong in PRD. This is technical architecture specification.

**Options:**
- A) Remove section entirely from PRD, move to separate Technical Architecture document
- B) Replace with high-level system overview from product perspective: "The system consists of a Telegram bot for quick note capture and a web interface for organizing and viewing notes"
- C) Keep section but remove all technology names and implementation details
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #20: [inconsistency][medium] Diagrams use technical terminology
**Files:** specs/prd.md:121-130, 181-192, 270-280
**Evidence:**
```
specs/prd.md:125: "TelegramBot->>Database: Saves note with metadata"
specs/prd.md:187: "TelegramBot->>Storage: Saves file"
specs/prd.md:188: "Storage-->>TelegramBot: Returns URL"
```

**Problem:** Sequence diagrams showing database operations, URL returns, and API calls are technical implementation flows, not user journeys.

**Options:**
- A) Replace with user journey diagrams showing user actions and what they see
- B) Keep diagrams but simplify to show only user-visible steps
- C) Move technical sequence diagrams to technical specification, replace with user story flow
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #21: [inconsistency][medium] Success Metrics mix technical and product metrics
**Files:** specs/prd.md:113-114, 171-173
**Evidence:**
```
specs/prd.md:114: "95% successfully saved messages"
specs/prd.md:172: "Media processing time < 3 seconds"
specs/prd.md:173: "90% successfully processed media messages"
```

**Problem:** Technical success rates and processing times are engineering metrics, not product metrics.

**Options:**
- A) Replace with product-focused metrics: "Messages save reliably; Photos and videos appear in notes within seconds"
- B) Reframe as product experience goals: "Users can trust their notes are saved; Media uploads feel instant"
- C) Remove technical percentages, keep qualitative product experience goals
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Issue #22: [ambiguity][high] Missing user value proposition in Business Goals
**Files:** specs/prd.md:64-70
**Evidence:**
```
specs/prd.md:66-69: Current business goals focus on features and technical foundation rather than user value
```

**Problem:** Business Goals should articulate clear user value and product vision, not just feature lists.

**Options:**
- A) Rewrite to emphasize user value: "Help users capture ideas instantly without friction; Make personal knowledge accessible and searchable anywhere; Enable better thinking through AI-powered insights; Provide a privacy-focused alternative to commercial note-taking apps"
- B) Add user value statements before technical goals
- C) Restructure to separate "User Value" and "Product Goals"
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: ]

---

## Issue #23: [inconsistency][low] Out of Scope section mentions technical features
**Files:** specs/prd.md:801-815
**Evidence:**
```
specs/prd.md:813: "Version control: Edit history and conflict resolution for concurrent edits (MVP uses last-write-wins)"
specs/prd.md:814: "Advanced retry logic: Message queue and retry mechanisms for handling Telegram API service disruptions (MVP assumes Telegram has 100% availability)"
```

**Problem:** Out of Scope is correct place for future features, but should describe from product perspective, not technical implementation (retry logic, message queues).

**Options:**
- A) Reframe as product features: "Edit history and undo; Automatic recovery from service interruptions"
- B) Keep current wording but remove technical implementation details in parentheses
- C) Leave as is (lowest priority issue)
- D) Other (custom resolution)

**Resolution:** [RESOLUTION: A]

---

## Summary of Review Focus

**Main Problem:** The PRD document frequently describes HOW the system will be implemented rather than WHAT the product does and WHY it matters to users.

**Key Areas to Address:**
1. **Technical Implementation Details:** Remove or reframe mentions of databases, APIs, storage systems, algorithms, retry logic, etc.
2. **Engineering Metrics:** Replace technical success metrics with product experience goals
3. **Architecture Sections:** Move technical architecture to separate specification documents
4. **Feature Requirements:** Rewrite from "system must do X" to "product enables Y" perspective
5. **User Value:** Strengthen focus on user benefits and product vision

**Document Purpose:** A PRD should be readable by non-technical stakeholders (product managers, designers, business leaders) and answer: What problem does this solve for users? What can users do? Why will they use it?

---

## COMPLETED

**Completed at:** 2025-11-05
**Total Issues:** 23
**Issues Resolved:** 23
**Issues Skipped:** 0
**Files Modified:** specs/prd.md

**Summary of Changes:**
- Removed technical implementation details (databases, APIs, S3, SDKs, algorithms)
- Reframed feature requirements from engineering specs to product capabilities
- Replaced technical metrics with product experience goals
- Removed entire "Architectural Components" section (to be moved to separate technical doc)
- Simplified all diagrams to show only user-visible steps
- Enhanced Business Goals to emphasize user value proposition
- Updated Security section to focus on user data protection rather than technical implementation
- Transformed all AI feature requirements from technical architecture to product benefits

**Result:** PRD now focuses on WHAT the product does and WHY it matters to users, rather than HOW it will be implemented.
